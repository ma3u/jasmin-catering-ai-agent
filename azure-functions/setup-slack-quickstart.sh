#!/bin/bash

# Quick Slack Setup Script
echo "ğŸš€ Slack API Token Quick Setup"
echo "=============================="
echo ""
echo "ğŸ“± Step 1: Create Slack App"
echo "   â†’ Go to: https://api.slack.com/apps"
echo "   â†’ Click 'Create New App' â†’ 'From scratch'"
echo "   â†’ Name: 'Jasmin Catering Bot'"
echo "   â†’ Workspace: 'mabured.slack.com'"
echo ""
echo "ğŸ” Step 2: Set Permissions"
echo "   â†’ Click 'OAuth & Permissions' in sidebar"
echo "   â†’ Add Bot Token Scopes:"
echo "     â€¢ chat:write"
echo "     â€¢ chat:write.public"
echo "     â€¢ channels:read"
echo ""
echo "ğŸ’¾ Step 3: Install & Get Token"
echo "   â†’ Click 'Install to Workspace'"
echo "   â†’ Authorize the app"
echo "   â†’ Copy the 'Bot User OAuth Token' (starts with xoxb-)"
echo ""
echo "ğŸ’¬ Step 4: Add Bot to Channel"
echo "   â†’ In Slack, go to #gmail-inbox"
echo "   â†’ Type: /invite @Jasmin Catering Bot"
echo ""
echo "âš™ï¸ Step 5: Update Azure Function"
echo ""
echo "az functionapp config appsettings set \\"
echo "  --name jasmin-gmail-functions \\"
echo "  --resource-group jasmin-functions-rg \\"
echo "  --settings SLACK_TOKEN=\"xoxb-YOUR-TOKEN-HERE\""
echo ""
echo "ğŸ”— Direct Links:"
echo "   Create App: https://api.slack.com/apps/new"
echo "   Azure Portal: https://portal.azure.com/#@/resource/subscriptions/b58b1820-35f0-4271-99be-7c84d4dd40f3/resourceGroups/jasmin-functions-rg/providers/Microsoft.Web/sites/jasmin-gmail-functions/configuration"